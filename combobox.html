<html>
<head>
	<meta charset="UTF-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
	<script src="js/jquery.js"></script>
	<script src="vendor/bootstrap/js/bootstrap.js"></script>
	<link rel="stylesheet" href="vendor/bootstrap/css/bootstrap.min.css">
		<!-- Optional theme -->
	<link rel="stylesheet" href="vendor/bootstrap/css/bootstrap-theme.min.css">
	
	<script src="js/underscore.js"></script>
	<script src="js/gonrin.core.js"></script>
	<script src="js/gonrin.combobox.js"></script>

	<script type="text/javascript">
            $(function () {
                $('#combobox').combobox({
                	textField: "age",
                    valueField: "id",
                    dataSource: "http://abc.com/list.json",
                    dataSource: [
                        { age: "Parent1", id: 1 },
                        { age: "Parent2", id: 2 },
                        { age: "Parent3", id: 3 },
                        { age: "Parent4", id: 4 },
                    ],
                    /*data_source: {
                    	type:"",
                    },*/
                    /*index: -1,
                    headerTemplate: "<span>ABC CDE</span",
                    template: '<span class="k-state-default" style="background-color: \'#666\'"></span>' +
                    '<span class="k-state-default"><h3>{{ age }}</h3><p>{{ id }}</p></span>',
                    
                    validators:[
                        {
                        	func: function(value){
                        		if (value == null){
                        			return false;
                        		}
                        		return true;
                        	},
                        	message:"Not null"
                        }
                    ],
                    showStateOnValidateSuccess : true*/
                });
                $('#combobox').on('change.gonrin', function(e){
                	console.log($('#combobox').getValue());
                });
                
                $("button#validate").bind("click", function(){
                	var ret = $('#combobox').validate();
                	console.log(ret);
            	});
                
                
                $('#combobox2').combobox({
                	textField: "name1",
                    valueField: "id",
                    dataSource: [
                        "Child 1","Child 2","Child 3","Child 4"
                    ],
                    /*data_source: {
                    	type:"",
                    },*/
                    index: 1,
                    headerTemplate: "<span>ABC CDE</span",
                    template: '<span class="k-state-default" style="background-color: \'#666\'"></span>' +
                    '<span class="k-state-default"><h3>{{ name1 }}</h3><p>{{ id }}</p></span>',
                });
                $('#combobox2').on('change.gonrin', function(e){
                	console.log($('#combobox2').data('gonrin').getValue());
                });
                
                $('#combobox3').combobox({
                    dataSource: [
                        3,5,7,9
                    ],
                    /*data_source: {
                    	type:"",
                    },*/
                    index: 1,
                    headerTemplate: "<span>ABC CDE</span",
                    template: '<span class="k-state-default" style="background-color: \'#666\'"></span>' +
                    '<span class="k-state-default"><h3>{{ name1 }}</h3><p>{{ id }}</p></span>',
                });
                $('#combobox3').on('change.gonrin', function(e){
                	console.log($('#combobox3').data('gonrin').getValue());
                });
                
                $("#refresh").click(function(){
                	$('#combobox3').combobox({
                		dataSource: [
                                     13,15
                                 ],
                        value:15,
                        refresh:true
                	});
                });
                
                $('#combobox4').combobox({
                	textField: "name",
                    valueField: "id",
                    type: "list",
                    dataSource: [
                        { name: "Parent1", id: 1 },
                        { name: "Parent2", id: 2 },
                        { name: "Parent3", id: 3 },
                        { name: "Parent4", id: 4 },
                    ],
                    //value:[2,4],
                    //selectionMode: "multiple"
                });
                
                $("button#setval").bind("click", function(){
                	var cb = $('#combobox4').data('gonrin');
                	//cb.setValue([1,3]);
                	var val = cb.getValue();
                	console.log(val);
            	});
                
                $("button#setdatasource").bind("click", function(){
                	var cb = $('#combobox4').data('gonrin');
                	
                	var data = [
                                 { name: "Parent A", id: 1 },
                                 { name: "Parent B", id: 2 },
                                 { name: "Parent C", id: 3 },
                                 { name: "Parent D", id: 4 },
                                 { name: "Parent E", id: 5 },
                             ];
                	
                	cb.setDataSource(data);
                	//var val = cb.getValue();
                	//console.log(val);
            	});
                
                
            });
     </script>
</head>
<body>
	 <div class="container">
	    <div class="row-fluid" id="content" style="margin-top:20px;">
	    	<div style="width:100%">
	    		<div style="width:50%;">
					<input type='text' id='combobox' placeholder="select..."/>
				</div>
			</div>
			
			<button id="validate">Validate</button>
			<br/>
			<br/>
			<div style="width:100%">
	    		<div style="width:50%;">
					<input type='text' id='combobox2' placeholder="select2..."/>
				</div>
			</div>
			<br/>
			<div style="width:100%">
	    		<div style="width:50%;">
					<input type='text' id='combobox3' placeholder="select3..."/>
				</div>
			</div>
			
			<button id="refresh">refresh</button>
			
			
			<br/>
			<div style="width:100%">
	    		<div style="width:50%;">
					<input type='text' id='combobox4' placeholder="select4..."/>
				</div>
			</div>
			<button id="setval">Set Value</button>
			<button id="setdatasource">Set dataSource</button>
	    </div> 
	</div>
</body>
</html>